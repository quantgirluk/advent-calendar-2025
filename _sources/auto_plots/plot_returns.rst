
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "auto_plots/plot_returns.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_auto_plots_plot_returns.py>`
        to download the full example code.

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_plots_plot_returns.py:


Returns and Log-Returns
=======================

.. GENERATED FROM PYTHON SOURCE LINES 8-90



.. rst-class:: sphx-glr-horizontal


    *

      .. image-sg:: /auto_plots/images/sphx_glr_plot_returns_001.png
         :alt: S\&P 500 Index Daily Prices, S\&P 500 Index Daily Linear Returns, S\&P 500 Index Daily Logarithmic Resturns
         :srcset: /auto_plots/images/sphx_glr_plot_returns_001.png
         :class: sphx-glr-multi-img

    *

      .. image-sg:: /auto_plots/images/sphx_glr_plot_returns_002.png
         :alt: Histogram of S\&P 500 Daily Log-Return  Data from 2000 to 2025
         :srcset: /auto_plots/images/sphx_glr_plot_returns_002.png
         :class: sphx-glr-multi-img

    *

      .. image-sg:: /auto_plots/images/sphx_glr_plot_returns_003.png
         :alt: Box Plot of S\&P 500 Daily Log-Returns  Data from 2000 to 2025
         :srcset: /auto_plots/images/sphx_glr_plot_returns_003.png
         :class: sphx-glr-multi-img





.. code-block:: Python


    # Author: Dialid Santiago <d.santiago@outlook.com>
    # License: MIT
    # Description: Advent Calendar 2025 Day 5 - Plotting Returns of S&P 500

    import yfinance as yf
    import pandas as pd
    import numpy as np
    import matplotlib.pyplot as plt

    quant_pastel = "https://raw.githubusercontent.com/quantgirluk/matplotlib-stylesheets/main/quant-pastel-light.mplstyle"
    plt.style.use(quant_pastel)
    plt.rc('font', family='sans-serif')
    plt.rc('font', serif='Apple SD Gothic Neo')
    plt.rcParams.update({'font.size': 12})

    # ---------------------------------------------------------
    # 1. Download S&P 500 Daily Prices from Yahoo Finance
    # ---------------------------------------------------------
    ticker = "^GSPC"
    data = yf.download(ticker, start="2000-01-01", progress=False, auto_adjust=False)

    prices = data["Close"]

    # ---------------------------------------------------------
    # 2. Compute Returns
    # ---------------------------------------------------------
    returns = prices.pct_change()
    log_returns = np.log(prices / prices.shift(1))

    # ---------------------------------------------------------
    # 3. Multi-panel Figure
    # ---------------------------------------------------------

    fig, axes = plt.subplots(3, 1, figsize=(14, 18), sharex=False, dpi=150)

    # Price
    axes[0].plot(prices, color='darkblue', linewidth=1.5)
    axes[0].set_title("S\\&P 500 Index Daily Prices")
    axes[0].set_ylabel("Price")
    axes[0].grid(True)

    # Returns
    axes[1].plot(returns, color='lightseagreen')
    axes[1].set_title("S\\&P 500 Index Daily Linear Returns")
    axes[1].set_ylabel("Return")
    axes[1].grid(True)

    # Log Returns
    axes[2].plot(log_returns, color='coral')
    axes[2].set_title("S\\&P 500 Index Daily Logarithmic Resturns")
    axes[2].set_ylabel("Log Return")
    axes[2].grid(True)

    plt.tight_layout()
    plt.show()


    #  Histogram and box plot of returns
    plt.figure(figsize=(12, 6), dpi=200)
    plt.hist(log_returns.dropna(), bins=100, alpha=0.5, color='pink', edgecolor='palevioletred')
    plt.title("Histogram of S\\&P 500 Daily Log-Return\n Data from 2000 to 2025",)
    plt.xlabel("Log-Returns")
    plt.ylabel("Frequency")
    plt.show()

    plt.figure(figsize=(8, 4), dpi=200)
    plt.boxplot(
        log_returns.dropna(),
        orientation='horizontal',
        patch_artist=True,
        boxprops=dict(edgecolor='palevioletred', facecolor='pink', alpha=0.5),
        medianprops=dict(color='palevioletred'),
        whiskerprops=dict(color='palevioletred'),
        capprops=dict(color='palevioletred'),
        flierprops=dict(marker='o', markerfacecolor='pink', markeredgecolor='palevioletred', markersize=5)
    )
    plt.yticks([])
    plt.title("Box Plot of S\\&P 500 Daily Log-Returns\n Data from 2000 to 2025")
    plt.xlabel("Logarithmic Returns Distribution")
    plt.grid(True)
    plt.show()


.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (0 minutes 6.276 seconds)


.. _sphx_glr_download_auto_plots_plot_returns.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: plot_returns.ipynb <plot_returns.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: plot_returns.py <plot_returns.py>`

    .. container:: sphx-glr-download sphx-glr-download-zip

      :download:`Download zipped: plot_returns.zip <plot_returns.zip>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
