
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "auto_plots/plot_moving_averages.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_auto_plots_plot_moving_averages.py>`
        to download the full example code.

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_plots_plot_moving_averages.py:


Moving Averages
===============

.. GENERATED FROM PYTHON SOURCE LINES 9-65



.. rst-class:: sphx-glr-horizontal


    *

      .. image-sg:: /auto_plots/images/sphx_glr_plot_moving_averages_001.png
         :alt: MSFT Simple Moving Averages
         :srcset: /auto_plots/images/sphx_glr_plot_moving_averages_001.png
         :class: sphx-glr-multi-img

    *

      .. image-sg:: /auto_plots/images/sphx_glr_plot_moving_averages_002.png
         :alt: AAPL Simple and Exponential Moving Averages
         :srcset: /auto_plots/images/sphx_glr_plot_moving_averages_002.png
         :class: sphx-glr-multi-img





.. code-block:: Python


    # Author: Dialid Santiago <d.santiago@outlook.com>
    # License: MIT
    # Description: Advent Calendar 2025 - Plot Moving Averages


    import yfinance as yf
    import pandas as pd
    import matplotlib.pyplot as plt
    import numpy as np
    plt.style.use("https://raw.githubusercontent.com/quantgirluk/matplotlib-stylesheets/main/quant-pastel-light.mplstyle")

    def download_data(ticker, start_date, end_date=None):
        data = yf.download(ticker, start=start_date, end=end_date, progress=False, auto_adjust=False)
        return data

    def moving_average(prices, window):
        return prices.rolling(window=window).mean()

    def exponential_moving_average(prices, span):
        return prices.ewm(span=span, adjust=False).mean()


    ticker = "MSFT"
    data = yf.download(ticker, start="2020-01-01", progress=False, auto_adjust=False)
    moving_avg_short = moving_average(data['Close'], window=20)
    moving_avg_long = moving_average(data['Close'], window=200)

    fig, ax = plt.subplots(dpi=200, figsize=(12,7))
    ax.plot(data.index, data['Close'], label='Close Price', linewidth=1)
    ax.plot(data.index, moving_avg_short, label='20-Day MA', linewidth=2)
    ax.plot(data.index, moving_avg_long, label='200-Day MA', linewidth=2)
    plt.title(f'{ticker} Simple Moving Averages')
    plt.xlabel('Date')
    plt.ylabel('Price')
    plt.legend()
    plt.show()



    ticker = "AAPL"
    data = yf.download(ticker, start="2020-01-01", progress=False, auto_adjust=False)
    moving_avg = moving_average(data['Close'], window=50)
    exp_moving_avg = exponential_moving_average(data['Close'], span=50)

    fig, ax = plt.subplots(dpi=200, figsize=(12,7))
    ax.plot(data.index, data['Close'], label='Close Price', linewidth=1)
    ax.plot(data.index, moving_avg, label='50-Day MA', linewidth=2)
    ax.plot(data.index, exp_moving_avg, label='50-Day EMA', linewidth=2)
    plt.title(f'{ticker} Simple and Exponential Moving Averages')
    plt.xlabel('Date')
    plt.ylabel('Price')
    plt.legend()
    plt.grid(True)
    plt.show()



.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (0 minutes 3.459 seconds)


.. _sphx_glr_download_auto_plots_plot_moving_averages.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: plot_moving_averages.ipynb <plot_moving_averages.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: plot_moving_averages.py <plot_moving_averages.py>`

    .. container:: sphx-glr-download sphx-glr-download-zip

      :download:`Download zipped: plot_moving_averages.zip <plot_moving_averages.zip>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
